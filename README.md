# Green Earth API

An API server for handling bluesky content recommendation requests.

## Prerequisites

- Python 3.13+
- pipenv

## Installation

1. Clone the repository

2. Install dependencies:
```bash
pipenv install
```

3. Install development dependencies:
```bash
pipenv install --dev
```

## Running the Server

Start the development server with auto-reload:

```bash
pipenv run uvicorn src.app.main:app --reload
```

The API will be available at `http://localhost:8000`

## Running Tests

Execute all tests:

```bash
pipenv run pytest
```

Run tests with verbose output:

```bash
pipenv run pytest -v
```

## API Endpoints

### Healthcheck

- **URL**: `/health`
- **Method**: `GET`
- **Success Response**:
  - **Code**: 200
  - **Content**: `{"status": "ok"}`

### Root

- **URL**: `/`
- **Method**: `GET`
- **Success Response**:
  - **Code**: 200
  - **Content**: `{"message": "Green Earth API"}`

## API Documentation

Interactive API documentation is automatically generated by FastAPI:

- **Swagger UI**: http://localhost:8000/docs
- **ReDoc**: http://localhost:8000/redoc

## Development Workflow

1. Create a new branch for your feature/fix
2. Make your changes incrementally
3. Run tests to ensure everything passes: `pipenv run pytest`
4. Commit your changes with descriptive messages
5. Push and create a pull request

## Project Structure

```
greenearth/api/
├── src/
│   └── app/
│       ├── __init__.py
│       ├── main.py              # FastAPI application entry point
│       └── routers/
│           ├── __init__.py
│           └── health.py        # Healthcheck endpoint
├── tests/
│   ├── __init__.py
│   └── test_health.py           # Healthcheck tests
├── .python-version              # Python version for pyenv
├── Pipfile                      # pipenv dependencies
└── README.md                    # This file
```
